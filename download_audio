for channel in $(<channels.lst); do
  yt-dlp -f 140 --restrict-filenames -o "audio/%(channel)s/%(upload_date>%Y-%m-%d)s_%(title)s_%(id)s.%(ext)s" --remote-components ejs:github --break-on-existing --download-archive .archive "https://www.youtube.com/$channel/videos"
  yt-dlp -f 140 --restrict-filenames -o "audio/%(channel)s/live/%(upload_date>%Y-%m-%d)s_%(title)s_%(id)s.%(ext)s" --remote-components ejs:github --break-on-existing --download-archive .archive "https://www.youtube.com/$channel/streams"
  yt-dlp -f 140 --restrict-filenames -o "audio/%(channel)s/shorts/%(upload_date>%Y-%m-%d)s_%(title)s_%(id)s.%(ext)s" --remote-components ejs:github --break-on-existing --download-archive .archive "https://www.youtube.com/$channel/shorts"
done
